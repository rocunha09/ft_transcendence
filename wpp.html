<html><head><base href="https://websim.io/whatsapp-clone/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Web Clone</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <style>
        body, html {
            height: 100%;
            margin: 0;
            background-color: #d5dbd8;
        }
        .chat-container {
            height: 900px; /* Altura reduzida para permitir 50px de margem no topo e no fundo */
            max-width: 1400px;
            margin: 50px auto 50px auto; /* Margem superior e inferior de 50px, centralizando horizontalmente */
            background-color: #fff;
            box-shadow: 0 1px 1px 0 rgba(0,0,0,.06), 0 2px 5px 0 rgba(0,0,0,.2);
        }
        .chat-list {
            height: 100%;
            overflow-y: auto;
            border-right: 1px solid #dadada;
        }
        .chat-messages {
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .message-list {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px;
            background-image: url('https://web.whatsapp.com/img/bg-chat-tile-dark_a4be512e7195b6b733d9110b408f075d.png');
        }
        .message {
            max-width: 65%;
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 7.5px;
            position: relative;
            word-wrap: break-word;
        }
        .message.received {
            background-color: #e1fef2;
            align-self: flex-start;
        }
        .message.sent {
            background-color: #dbeafe;
            align-self: flex-end;
        }
        .chat-input {
            background-color: #f0f0f0;
            padding: 10px;
        }
        .chat-header, .message-header {
            background-color: #ededed;
            padding: 10px 16px;
        }
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        .chat-item {
            cursor: pointer;
            padding: 15px;
            border-bottom: 1px solid #f2f2f2;
            position: relative;
        }
        .chat-item:hover {
            background-color: #f5f5f5;
        }
        .chat-item.active {
            background-color: #ebebeb;
        }
        .message-container {
            display: flex;
            flex-direction: column;
            margin-bottom: 10px;
        }
        .message-container.received {
            align-items: flex-start;
        }
        .message-container.sent {
            align-items: flex-end;
        }
        .dropdown-toggle::after {
            display: none;
        }
        .chat-item .dropdown {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            transition: opacity 0.2s;
        }
        .chat-item:hover .dropdown {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container-fluid h-100">
        <div class="row chat-container">
            <div class="col-md-4 col-xl-3 chat-list p-0">
                <div class="chat-header d-flex align-items-center">
                    <img src="https://i.pravatar.cc/150?img=1" alt="User avatar" class="avatar mr-2">
                    <div>
                        <h6 class="mb-0">John Doe</h6>
                    </div>
                    <div class="ml-auto">
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
                <div class="chat-item active" data-contact="Alice Johnson">
                    <div class="d-flex align-items-center">
                        <img src="https://i.pravatar.cc/150?img=5" alt="Contact avatar" class="avatar mr-3">
                        <div>
                            <h6 class="mb-0">Alice Johnson</h6>
                            <small class="text-muted">Hello, how are you?</small>
                        </div>
                        <small class="text-muted ml-auto">10:30 AM</small>
                    </div>
                    <div class="dropdown">
                        <button class="btn btn-sm btn-light dropdown-toggle" type="button" id="dropdownMenuButton1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <a class="dropdown-item" href="#" onclick="viewProfile('Alice Johnson')">View profile</a>
                            <a class="dropdown-item" href="#" onclick="addFriend('Alice Johnson')">Add friend</a>
                            <a class="dropdown-item" href="#" onclick="deleteFriend('Alice Johnson')">Delete friend</a>
                            <a class="dropdown-item" href="#" onclick="challengeToMatch('Alice Johnson')">Challenge to match</a>
                        </div>
                    </div>
                </div>
                <div class="chat-item" data-contact="Bob Smith">
                    <div class="d-flex align-items-center">
                        <img src="https://i.pravatar.cc/150?img=8" alt="Contact avatar" class="avatar mr-3">
                        <div>
                            <h6 class="mb-0">Bob Smith</h6>
                            <small class="text-muted">See you later!</small>
                        </div>
                        <small class="text-muted ml-auto">Yesterday</small>
                    </div>
                    <div class="dropdown">
                        <button class="btn btn-sm btn-light dropdown-toggle" type="button" id="dropdownMenuButton2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton2">
                            <a class="dropdown-item" href="#" onclick="viewProfile('Bob Smith')">View profile</a>
                            <a class="dropdown-item" href="#" onclick="addFriend('Bob Smith')">Add friend</a>
                            <a class="dropdown-item" href="#" onclick="deleteFriend('Bob Smith')">Delete friend</a>
                            <a class="dropdown-item" href="#" onclick="challengeToMatch('Bob Smith')">Challenge to match</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-8 col-xl-9 chat-messages p-0">
                <div class="message-header d-flex align-items-center">
                    <img src="https://i.pravatar.cc/150?img=5" alt="Contact avatar" class="avatar mr-2">
                    <div>
                        <h6 class="mb-0" id="current-chat-name">Alice Johnson</h6>
                        <small class="text-muted">Online</small>
                    </div>
                    <div class="ml-auto">
                        <i class="fas fa-search mr-3"></i>
                        <i class="fas fa-paperclip mr-3"></i>
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
                <div class="message-list" id="message-list">
                    <div class="message-container received">
                        <div class="message received">
                            Hello! How are you doing?
                        </div>
                    </div>
                    <div class="message-container sent">
                        <div class="message sent">
                            Hi Alice! I'm doing great, thanks for asking. How about you?
                        </div>
                    </div>
                    <div class="message-container received">
                        <div class="message received">
                            I'm good too! Just wanted to check in and see if we're still on for lunch tomorrow?
                        </div>
                    </div>
                    <div class="message-container sent">
                        <div class="message sent">
                            Absolutely! Looking forward to it. Shall we meet at the usual place at 12:30?
                        </div>
                    </div>
                    <div class="message-container received">
                        <div class="message received">
                            Perfect! See you there :)
                        </div>
                    </div>
                </div>
                <div class="chat-input">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <button class="btn btn-outline-secondary" type="button">
                            <i class="far fa-smile"></i>
                        </button>
                        <input type="text" id="emoji-input" style="position: absolute; opacity: 0; pointer-events: none;" />
                        </div>
                        <input type="text" class="form-control" id="message-input" placeholder="Type a message">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.chat-item').click(function() {
                $('.chat-item').removeClass('active');
                $(this).addClass('active');
                changeChat($(this).data('contact'));
            });

            $('.btn-outline-secondary .fa-smile').parent().click(function() {
                $('#emoji-input').click();
            });
            $('#emoji-input').on('input', function(e) {
                const messageInput = $('#message-input');
                const currentValue = messageInput.val();
                messageInput.val(currentValue + e.target.value);
                e.target.value = '';
            });
            $('#message-input').keypress(function(e) {
                if (e.which == 13) {
                    sendMessage();
                    return false;
                }
            });
        });

        function changeChat(contactName) {
            try {
                $('#current-chat-name').text(contactName);
                $('#message-list').empty();
                const dummyMessages = [
                    { type: 'received', text: 'Hello!' },
                    { type: 'sent', text: 'Hi there!' },
                    { type: 'received', text: 'How are you?' },
                ];
                dummyMessages.forEach(msg => {
                    const newMessage = $(`<div class="message-container ${msg.type}"><div class="message ${msg.type}">${msg.text}</div></div>`);
                    $('#message-list').append(newMessage);
                });
                $('#message-list').scrollTop($('#message-list')[0].scrollHeight);
            } catch (error) {
                console.error('Error changing chat:', error);
            }
        }

        function sendMessage() {
            try {
                var messageText = $('#message-input').val().trim();
                if (messageText !== '') {
                    var newMessage = $('<div class="message-container sent"><div class="message sent">' + messageText + '</div></div>');
                    $('#message-list').append(newMessage);
                    $('#message-input').val('');
                    $('#message-list').scrollTop($('#message-list')[0].scrollHeight);
                }
            } catch (error) {
                console.error('Error sending message:', error);
            }
        }

        function viewProfile(contactName) {
            try {
                console.log('Viewing profile of ' + contactName);
                alert('Viewing profile of ' + contactName);
            } catch (error) {
                console.error('Error viewing profile:', error);
            }
        }

        function addFriend(contactName) {
            try {
                console.log('Adding friend: ' + contactName);
                alert('Added ' + contactName + ' as friend');
            } catch (error) {
                console.error('Error adding friend:', error);
            }
        }

        function deleteFriend(contactName) {
            try {
                console.log('Deleting friend: ' + contactName);
                alert('Deleted ' + contactName + ' from friends');
            } catch (error) {
                console.error('Error deleting friend:', error);
            }
        }

        function challengeToMatch(contactName) {
            try {
                console.log('Challenging ' + contactName + ' to a match');
                alert('Challenged ' + contactName + ' to a match');
            } catch (error) {
                console.error('Error challenging to match:', error);
            }
        }
    </script>
</body></html>